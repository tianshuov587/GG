1:stateCenter1[i, 3]
1:stateCenter1[1, 3]
1:(stateCenter1[1, 3])
round(stateCenter1[i,3]/1000+1)
1:(stateCenter1[3, 3])
round(stateCenter1[3,3]/1000+1)
round(stateCenter1[333,3]/1000+1)
ojbk<-round(stateCenter1[i,3]/1000+1)
#每100萬人轉為1點
for(j in 1:stateCenter1[i,3]/1000+1){
PopPoint<-rbind(PopPoint,stateCenter1[i,])
}
stateCenter1[333,3]
round(stateCenter1[3333,3]/1000+1)
stateCenter<- na.omit(stateCenter)
stateCenter1<-stateCenter[,-4]
stateCenter2<-stateCenter[,-3]
head(stateCenter)
stateCenter1<-arrange(stateCenter1,salesprice)
stateCenter1<-stateCenter1[-c(1:271),]
PopPoint<-NULL
for(i in 1:nrow(stateCenter1)){
ojbk<-round(stateCenter1[i,3]/1000+1)
#每100萬人轉為1點
for(j in 1:ojbk){
PopPoint<-rbind(PopPoint,stateCenter1[i,])
}
}
head(PopPoint,3)
for(i in 1:nrow(stateCenter1)){
ojbk[i]<-round(stateCenter1[i,3]/1000+1)}
or(i in 1:nrow(stateCenter1)){
A
for(i in 1:nrow(stateCenter1)){
ojbk[i]<-round(stateCenter1[i,3]/1000+1)}
for(i in 1:nrow(stateCenter1)){
ojbk[i]<-round(stateCenter1[i,3]/1000+1)}
for(i in 1:nrow(stateCenter1)){
ojbk[i]<-round(stateCenter1[i,3]/1000+1)}
View(ojbk)
ojbk<-NULL
for(i in 1:nrow(stateCenter1)){
ojbk[i,1]<-round(stateCenter1[i,3]/1000+1)}
ojbk<-data.frame()
for(i in 1:nrow(stateCenter1)){
ojbk[i,1]<-round(stateCenter1[i,3]/1000+1)}
View(ojbk)
View(ojbk)
for(i in 1:nrow(stateCenter1)){
#每100萬人轉為1點
for(j in 1:ojbk[i]){
PopPoint<-rbind(PopPoint,stateCenter1[i,])
}
}
for(j in 1:ojbk[i]){
PopPoint<-rbind(PopPoint,stateCenter1[i,])
}
for(j in 1:ojbk[1]){
PopPoint<-rbind(PopPoint,stateCenter1[1,])
}
ojbk[1]
PopPoint<-NULL
for(i in 1:nrow(stateCenter1)){
#每100萬人轉為1點
for(j in 1:ojbk[i,1]){
PopPoint<-rbind(PopPoint,stateCenter1[i,])
}
}
head(PopPoint,3)
densityMap<-ggmap(twmap, extent = "device") +
geom_density2d(data = stateCenter1, aes(x = lon, y = lat), size = 0.3) +
stat_density2d(data = stateCenter1,
aes(x = lon, y = lat, fill = ..level.., alpha = ..level..),
size = 0.01, bins = 16, geom = "polygon") +
scale_fill_gradient(low = "green", high = "red", guide = FALSE) +
scale_alpha(range = c(0, 0.3), guide = FALSE)
densityMap
densityMap<-ggmap(twmap, extent = "device") +
geom_density2d(data = stateCenter1, aes(x = lon, y = lat), size = 0.3) +
stat_density2d(data = stateCenter1,
aes(x = lon, y = lat, fill = ..level.., alpha = ..level..),
size = 0.01, bins = 16, geom = "polygon") +
scale_fill_gradient(low = "green", high = "red", guide = FALSE) +
scale_alpha(range = c(0, 0.3), guide = FALSE)
View(densityMap)
View(densityMap)
densityMap
View(densityMap)
View(densityMap)
View(densityMap)
View(PopPoint)
View(PopPoint)
densityMap<-ggmap(twmap, extent = "device") +
geom_density2d(data = PopPoint, aes(x = lon, y = lat), size = 0.3) +
stat_density2d(data = PopPoint,
aes(x = lon, y = lat, fill = ..level.., alpha = ..level..),
size = 0.01, bins = 16, geom = "polygon") +
scale_fill_gradient(low = "green", high = "red", guide = FALSE) +
scale_alpha(range = c(0, 0.3), guide = FALSE)
densityMap
View(PopPoint)
View(PopPoint)
View(ojbk)
View(PopPoint)
View(PopPoint)
PopPoint<-NULL
PopPoint<-NULL
for(i in 1:nrow(stateCenter1)){
#每100萬人轉為1點
for(j in 1:ojbk[i,1]){
PopPoint<-rbind(PopPoint,stateCenter1[i,])
}
}
head(PopPoint,3)
View(PopPoint)
View(PopPoint)
densityMap<-ggmap(twmap, extent = "device") +
geom_density2d(data = PopPoint, aes(x = lon, y = lat), size = 0.3) +
stat_density2d(data = PopPoint,
aes(x = lon, y = lat, fill = ..level.., alpha = ..level..),
size = 0.01, bins = 16, geom = "polygon") +
scale_fill_gradient(low = "green", high = "red", guide = FALSE) +
scale_alpha(range = c(0, 0.3), guide = FALSE)
densityMap
install.packages("ggplot2")
densityMap<-ggmap(twmap, extent = "device") +
geom_density2d(data = PopPoint, aes(x = lon, y = lat), size = 0.3) +
stat_density2d(data = PopPoint,
aes(x = lon, y = lat, fill = ..level.., alpha = ..level..),
size = 0.01, bins = 16, geom = "polygon") +
scale_fill_gradient(low = "green", high = "red", guide = FALSE) +
scale_alpha(range = c(0, 0.3), guide = FALSE)
densityMap
library(ggmap)
library(ggplot2)
densityMap<-ggmap(twmap, extent = "device") +
geom_density2d(data = PopPoint, aes(x = lon, y = lat), size = 0.3) +
stat_density2d(data = PopPoint,
aes(x = lon, y = lat, fill = ..level.., alpha = ..level..),
size = 0.01, bins = 16, geom = "polygon") +
scale_fill_gradient(low = "green", high = "red", guide = FALSE) +
scale_alpha(range = c(0, 0.3), guide = FALSE)
densityMap
library(ggplot2)
densityMap<-ggmap(twmap, extent = "device") +
geom_density2d(data = PopPoint, aes(x = lon, y = lat), size = 0.3) +
stat_density2d(data = PopPoint,
aes(x = lon, y = lat, fill = ..level.., alpha = ..level..),
size = 0.01, bins = 16, geom = "polygon") +
scale_fill_gradient(low = "green", high = "red", guide = FALSE) +
scale_alpha(range = c(0, 0.3), guide = FALSE)
densityMap
PopPoint1<-PopPoint
PopPoint1<-group_by(PopPoint1)
library(ggpubr)
library(ggplot2)
library(dplyr)
library(readxl)
PopPoint1<-group_by(PopPoint1)
View(PopPoint1)
View(PopPoint1)
PopPoint1<-group_by(PopPoint1,lon)
View(PopPoint1)
View(PopPoint1)
PopPoint1<-group_by(PopPoint1,lon)
PopPoint1<-group_by(PopPoint1,lon)
PopPoint1<-group_by(PopPoint1,lon,lat)
PopPoint1<-PopPoint%>%
group_by(lon)
PopPoint1<-PopPoint%>%
group_by(lon,lat)
View(PopPoint1)
View(PopPoint1)
PopPoint1<-PopPoint%>%
group_by(lon,lat)%>%
summarise(n=n())
View(PopPoint1)
View(PopPoint1)
library(ggplot2)
densityMap<-ggmap(twmap, extent = "device") +
geom_density2d(data = PopPoint1, aes(x = lon, y = lat), size = 0.3) +
stat_density2d(data = PopPoint1,
aes(x = lon, y = lat, fill = ..level.., alpha = ..level..),
size = 0.01, bins = 16, geom = "polygon") +
scale_fill_gradient(low = "green", high = "red", guide = FALSE) +
scale_alpha(range = c(0, 0.3), guide = FALSE)
densityMap
library(ggplot2)
densityMap<-ggmap(twmap, extent = "device") +
geom_density2d(data = PopPoint1, aes(x = lon, y = lat), size = 0.3) +
stat_density2d(data = PopPoint1,
aes(x = lon, y = lat, fill = ..level.., alpha = ..level..),
size = 0.01, bins = 16, geom = "polygon") +
scale_fill_gradient(low = "green", high = "red", guide = FALSE) +
scale_alpha(range = c(0, 0.3), guide = FALSE)
densityMap
densityMap
PopPoint1<-PopPoint%>%
group_by(lon,lat)%>%
summarise(n=sum(salesprice))
library(ggplot2)
densityMap<-ggmap(twmap, extent = "device") +
geom_density2d(data = PopPoint1, aes(x = lon, y = lat), size = 0.3) +
stat_density2d(data = PopPoint1,
aes(x = lon, y = lat, fill = ..level.., alpha = ..level..),
size = 0.01, bins = 16, geom = "polygon") +
scale_fill_gradient(low = "green", high = "red", guide = FALSE) +
scale_alpha(range = c(0, 0.3), guide = FALSE)
densityMap
densityMap<-ggmap(twmap, extent = "device") +
geom_density2d(data = PopPoint1, aes(x = lon, y = lat), size = 0.3) +
stat_density2d(data = PopPoint1,
aes(x = lon, y = lat, fill = ..level.., alpha = ..level..),
size = 0.01, bins = 6, geom = "polygon") +
scale_fill_gradient(low = "green", high = "red", guide = FALSE) +
scale_alpha(range = c(0, 0.3), guide = FALSE)
densityMap
library(ggplot2)
densityMap<-ggmap(twmap, extent = "device") +
geom_density2d(data = PopPoint1, aes(x = lon, y = lat), size = 0.3) +
stat_density2d(data = PopPoint1,
aes(x = lon, y = lat, fill = ..level.., alpha = ..level..),
size = 0.01, bins = 16, geom = "polygon") +
scale_fill_gradient(low = "green", high = "red", guide = FALSE) +
scale_alpha(range = c(0, 0.3), guide = FALSE)
densityMap
densityMap<-ggmap(twmap, extent = "device") +
geom_density2d(data = PopPoint1, aes(x = lon, y = lat), size = 0.3) +
stat_density2d(data = PopPoint1,
aes(x = lon, y = lat, fill = ..level.., alpha = ..level..),
size = 0.05, bins = 16, geom = "polygon") +
scale_fill_gradient(low = "green", high = "red", guide = FALSE) +
scale_alpha(range = c(0, 0.3), guide = FALSE)
densityMap
library(ggplot2)
densityMap<-ggmap(twmap, extent = "device") +
geom_density2d(data = PopPoint1, aes(x = lon, y = lat), size = 0.3) +
stat_density2d(data = PopPoint1,
aes(x = lon, y = lat, fill = ..level.., alpha = ..level..),
size = 0.01, bins = 16, geom = "polygon") +
scale_fill_gradient(low = "green", high = "red", guide = FALSE) +
scale_alpha(range = c(0, 0.3), guide = FALSE)
densityMap
library(ggplot2)
densityMap<-ggmap(twmap, extent = "device") +
geom_density2d(data = PopPoint1, aes(x = lon, y = lat), size = 0.5) +
stat_density2d(data = PopPoint1,
aes(x = lon, y = lat, fill = ..level.., alpha = ..level..),
size = 0.01, bins = 16, geom = "polygon") +
scale_fill_gradient(low = "green", high = "red", guide = FALSE) +
scale_alpha(range = c(0, 0.3), guide = FALSE)
densityMap
library(ggplot2)
densityMap<-ggmap(twmap, extent = "device") +
geom_density2d(data = PopPoint1, aes(x = lon, y = lat), size = 0.3) +
stat_density2d(data = PopPoint1,
aes(x = lon, y = lat, fill = ..level.., alpha = ..level..),
size = 0.01, bins = 16, geom = "polygon") +
scale_fill_gradient(low = "green", high = "red", guide = FALSE) +
scale_alpha(range = c(0, 0.3), guide = FALSE)
densityMap
library(ggplot2)
densityMap<-ggmap(twmap, extent = "device") +
geom_density2d(data = PopPoint1, aes(x = lon, y = lat), size = 0.2) +
stat_density2d(data = PopPoint1,
aes(x = lon, y = lat, fill = ..level.., alpha = ..level..),
size = 0.01, bins = 16, geom = "polygon") +
scale_fill_gradient(low = "green", high = "red", guide = FALSE) +
scale_alpha(range = c(0, 0.3), guide = FALSE)
densityMap
library(ggplot2)
densityMap<-ggmap(twmap, extent = "device") +
geom_density2d(data = PopPoint1, aes(x = lon, y = lat), size = 0.2) +
stat_density2d(data = PopPoint1,
aes(x = lon, y = lat, fill = ..level.., alpha = ..level..),
size = 0.01, bins = 16, geom = "polygon") +
scale_fill_gradient(low = "green", high = "red", guide = FALSE) +
scale_alpha(range = c(0, 0.3), guide = FALSE)
densityMap
densityMap<-ggmap(twmap, extent = "device") +
geom_density2d(data = PopPoint1, aes(x = lon, y = lat), size = 0.3) +
stat_density2d(data = PopPoint1,
aes(x = lon, y = lat, fill = ..level.., alpha = ..level..),
size = 0.01, bins = 16) +
scale_fill_gradient(low = "green", high = "red", guide = FALSE) +
scale_alpha(range = c(0, 0.3), guide = FALSE)
densityMap
library(ggplot2)
densityMap<-ggmap(twmap, extent = "device") +
geom_density2d(data = PopPoint1, aes(x = lon, y = lat), size = 0.3) +
stat_density2d(data = PopPoint1,
aes(x = lon, y = lat, fill = ..level.., alpha = ..level..),
size = 0.01, bins = 16, geom = "polygon") +
scale_fill_gradient(low = "green", high = "red", guide = FALSE) +
scale_alpha(range = c(0, 0.3), guide = FALSE)
densityMap
densityMap<-ggmap(twmap, extent = "device") +
geom_density2d(data = PopPoint1, aes(x = lon, y = lat), size = 0.3) +
stat_density2d(data = PopPoint1,
aes(x = lon, y = lat, fill = ..level.., alpha = ..level..),
size = 0.01, bins = 16, geom = "polygon") +
scale_fill_gradient(low = "green", high = "red", guide = FALSE) +
scale_alpha(range = c(0, 0.3), guide = FALSE)
densityMap
densityMap<-ggmap(twmap, extent = "device") +
geom_density2d(data = PopPoint1, aes(x = lon, y = lat), size = 0.3) +
stat_density2d(data = PopPoint1,
aes(x = lon, y = lat, fill = ..level.., alpha = ..level..),
size = 0.01, bins = 16, geom = "polygon") +
scale_fill_gradient(low = "green", high = "red", guide = FALSE) +
scale_alpha(range = c(0, 0.3), guide = FALSE)
densityMap
densityMap<-ggmap(twmap, extent = "device") +
geom_density2d(data = PopPoint1, aes(x = lon, y = lat), size = 0.3) +
stat_density2d(data = PopPoint1,
aes(x = lon, y = lat, fill = ..level.., alpha = ..level..),
size = 0.01, bins = 16, geom = "polygon") +
scale_fill_gradient(low = "green", high = "red", guide = FALSE) +
scale_alpha(range = c(0.1:1), guide = FALSE)
densityMap
densityMap<-ggmap(twmap, extent = "device") +
geom_density2d(data = PopPoint1, aes(x = lon, y = lat), size = 0.3) +
stat_density2d(data = PopPoint1,
aes(x = lon, y = lat, fill = ..level.., alpha = ..level..),
size = 0.01, bins = 16, geom = "polygon") +
scale_fill_gradient(low = "green", high = "red", guide = FALSE) +
scale_alpha(range = c(0.1:1), guide = FALSE)
densityMap
densityMap<-ggmap(twmap, extent = "device") +
geom_density2d(data = PopPoint1, aes(x = lon, y = lat), size = 0.3)
densityMap
densityMap<-ggmap(twmap, extent = "device") +
geom_density2d(data = PopPoint1, aes(x = lon, y = lat), size = 5) +
stat_density2d(data = PopPoint1,
aes(x = lon, y = lat, fill = ..level.., alpha = ..level..),
size = 0.01, bins = 16, geom = "polygon") +
scale_fill_gradient(low = "green", high = "red", guide = FALSE) +
scale_alpha(range = c(0, 0.3), guide = FALSE)
densityMap
densityMap<-ggmap(twmap, extent = "device") +
geom_density2d(data = PopPoint1, aes(x = lon, y = lat), size = 5) +
stat_density2d(data = PopPoint1,
aes(x = lon, y = lat, fill = ..level.., alpha = ..level..),
size = 0.01, bins = 16, geom = "polygon") +
scale_fill_gradient(low = "green", high = "red", guide = FALSE) +
scale_alpha(range = c(0, 0.3), guide = FALSE)
densityMap
?geom_density2d()
densityMap<-ggmap(twmap, extent = "device") +
geom_density2d(data = PopPoint1, aes(x = lon, y = lat))
densityMap
densityMap
for(i in 1:nrow(PopPoint1)){
ojbk[i,1]<-round(PopPoint1[i,3]/1000+1)}
for(i in 1:nrow(PopPoint1)){
#每100萬人轉為1點
for(j in 1:ojbk[i,1]){
PopPoint1<-rbind(PopPoint1,PopPoint1[i,])
}
}
PopPoint1<-PopPoint
PopPoint1<-PopPoint%>%
group_by(lon,lat)%>%
summarise(n=sum(salesprice))
for(i in 1:nrow(PopPoint1)){
ojbk[i,1]<-round(PopPoint1[i,3]/1000)}
for(i in 1:nrow(PopPoint1)){
#每100萬人轉為1點
for(j in 1:ojbk[i,1]){
PopPoint1<-rbind(PopPoint1,PopPoint1[i,])
}
}
densityMap<-ggmap(twmap, extent = "device") +
geom_density2d(data = PopPoint1, aes(x = lon, y = lat), size = 0.3) +
stat_density2d(data = PopPoint1,
aes(x = lon, y = lat, fill = ..level.., alpha = ..level..),
size = 0.01, bins = 16, geom = "polygon") +
scale_fill_gradient(low = "green", high = "red", guide = FALSE) +
scale_alpha(range = c(0, 0.3), guide = FALSE)
densityMap
View(densityMap)
View(densityMap)
library(ggplot2)
densityMap<-ggmap(twmap, extent = "device") +
geom_density2d(data = PopPoint1, aes(x = lon, y = lat), size = 0.3) +
stat_density2d(data = PopPoint1,
aes(x = lon, y = lat, fill = ..level.., alpha = ..level..),
size = 0.01, bins = 16, geom = "polygon") +
scale_fill_gradient(low = "green", high = "red", guide = FALSE) +
scale_alpha(range = c(0, 0.3), guide = FALSE)
densityMap
densityMap<-ggmap(twmap, extent = "device") +
geom_density2d(data = PopPoint1, aes(x = lon, y = lat), size = 0.3)
densityMap
PopPoint1<-PopPoint
PopPoint1<-PopPoint%>%
group_by(lon,lat)%>%
summarise(n=sum(salesprice))
for(i in 1:nrow(PopPoint1)){
ojbk[i,1]<-round(PopPoint1[i,3]/1000)}
PopPoint1<-NULL
for(i in 1:nrow(PopPoint1)){
#每100萬人轉為1點
for(j in 1:ojbk[i,1]){
PopPoint1<-rbind(PopPoint1,PopPoint1[i,])
}
}
PopPoint1<-PopPoint
PopPoint1<-PopPoint%>%
group_by(lon,lat)%>%
summarise(n=sum(salesprice))
for(i in 1:nrow(PopPoint1)){
ojbk[i,1]<-round(PopPoint1[i,3]/1000)}
PopPoint2<-NULL
for(i in 1:nrow(PopPoint1)){
#每100萬人轉為1點
for(j in 1:ojbk[i,1]){
PopPoint2<-rbind(PopPoint2,PopPoint1[i,])
}
}
PopPoint1<-PopPoint
PopPoint1<-PopPoint%>%
group_by(lon,lat)%>%
summarise(n=sum(salesprice))
for(i in 1:nrow(PopPoint1)){
ojbk[i,1]<-round(PopPoint1[i,3]/1000)}
PopPoint2<-NULL
for(i in 1:nrow(PopPoint1)){
#每100萬人轉為1點
for(j in 1:ojbk[i,1]){
PopPoint2<-rbind(PopPoint2,PopPoint1[i,])
}
}
PopPoint1[1,3]
PopPoint1[1,9]
PopPoint1[9,3]
for(i in 1:nrow(PopPoint1)){
ojbk[i,1]<-round(PopPoint1[i,3]/100000)}
PopPoint2<-NULL
for(i in 1:nrow(PopPoint1)){
#每100萬人轉為1點
for(j in 1:ojbk[i,1]){
PopPoint2<-rbind(PopPoint2,PopPoint1[i,])
}
}
PopPoint2
densityMap<-ggmap(twmap, extent = "device") +
geom_density2d(data = PopPoint1, aes(x = lon, y = lat), size = 0.3) +
stat_density2d(data = PopPoint1,
aes(x = lon, y = lat, fill = ..level.., alpha = ..level..),
size = 0.01, bins = 16, geom = "polygon") +
scale_fill_gradient(low = "green", high = "red", guide = FALSE) +
scale_alpha(range = c(0, 0.3), guide = FALSE)
densityMap
library(ggplot2)
densityMap<-ggmap(twmap, extent = "device") +
geom_density2d(data = PopPoint2, aes(x = lon, y = lat), size = 0.3) +
stat_density2d(data = PopPoint2,
aes(x = lon, y = lat, fill = ..level.., alpha = ..level..),
size = 0.01, bins = 16, geom = "polygon") +
scale_fill_gradient(low = "green", high = "red", guide = FALSE) +
scale_alpha(range = c(0, 0.3), guide = FALSE)
densityMap
library(ggplot2)
densityMap<-ggmap(twmap, extent = "device") +
geom_density2d(data = PopPoint2, aes(x = lon, y = lat), size = 0.3) +
stat_density2d(data = PopPoint2,
aes(x = lon, y = lat, fill = ..level.., alpha = ..level..),
size = 0.01, bins = 16, geom = "polygon") +
scale_fill_gradient(low = "green", high = "red", guide = FALSE) +
scale_alpha(range = c(0, 0.3), guide = FALSE)
densityMap
PopPoint<-NULL
for(i in 1:nrow(stateCenter1)){
#每100萬人轉為1點
for(j in 1:(stateCenter1[i,3]/100000)){
PopPoint<-rbind(PopPoint,stateCenter[i,])
}
}
head(PopPoint,3)
ojbk<-data.frame()
for(i in 1:nrow(stateCenter1)){
ojbk[i,1]<-round(stateCenter1[i,3]/1000+1)}
PopPoint<-NULL
for(i in 1:nrow(stateCenter1)){
#每100萬人轉為1點
for(j in 1:ojbk[i,1]){
PopPoint<-rbind(PopPoint,stateCenter1[i,])
}
}
PopPoint1<-PopPoint
PopPoint1<-PopPoint%>%
group_by(lon,lat)%>%
summarise(n=sum(salesprice))
save(PopPoint1)
save(PopPoint1,"c/")
save(PopPoint1,"C:\\Users\\tsv587\\Desktop")
save(PopPoint1,"C:\\Users\\tsv587\\Desktop\\R")
library(xlsx)
library(xlsx)
install.packages("xlsx")
library(xlsx)
library(xlsx)
install.packages("rJava")
library(xlsx)
library(rJava)
library(rJava)
library(rjava)
library(rJava)
library(xlsx)
write.csv(PopPoint1,'test.csv')
load("~/sales/test.csv")
